<!DOCTYPE html>
<html>
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <!-- Site Properties -->
    <title>Desafio de Programação</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
</head>
<body ng-app="mainApp" ng-controller="mainCtrl">

    <h1>Contest</h1>
    <p>{{ teste }}</p>
    <textarea ng-model="codigo" rows="10">

    </textarea>

    <button type="button" ng-click="envia()">Enviar</button>

    <script type="text/javascript">
        var app = angular.module('mainApp', []);
        app.controller('mainCtrl', fnController);

        function fnController($scope, $http) {
            $scope.teste = 'heuhue';
            $scope.codigo = '';
            $scope.envia = enviaCodigo;

            function enviaCodigo() {
                var req = {
                    url: 'http://api.hackerrank.com/checker/submission.json',
                    method: 'POST',
                    data: {
                        source: $scope.codigo,
                        lang: 20,
                        testcases: ['hue'],
                        api_key: 'hackerrank|665905-1221|d2773ca40a490d766a3910926e0a4c0488eed803',
                        wait: true,
                        format: 'json'
                    }
                };
                $http(req)
                        .then(function (data) {
                            console.log(data);

                        }, function (data) {
                            console.error(data);
                        });
            }
        }
    </script>
</body>
</html>